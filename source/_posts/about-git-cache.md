---
title: 修复 next 主题无法提交到 git 仓库
date: 2018-08-14 23:55:09
tags:
    网络
---
修复 git 仓库内，有另一个仓库，而产生冲突的问题。

<!--more-->

用 hexo 来部署博客，只是把生成的静态网页给发布上去。但完整的备份是需要备份博客源码的，很多人会新建一个项目来放置博客源码。这样每次写好文章更新博客后，再把源码更新到远程仓库，例如 github 就行。完美备份。

但是，我发现我的 Next 主题下的文件全部无法上传，官方自带的主题就行。于是想到，当前这整个博客文件夹都是一个 git 仓库，而 next 主题是从 github 上克隆下来的，也是一个仓库，估计是会产生冲突。

于是，进入到 next 目录下，用命令行
```
rm -rf .git
```
删除掉 `.git` 这个文件夹。这样应该就把这个仓库变成一个普通的文件夹了吧。于是再来把它添加到博客源码这个项目里吧
```
git add .
```
结果不行，报错了，显示：
```
fatal: in unpopulated subnodule 'themes/next'
```
看来不只是删除一个文件夹就行。好像还得再清除下，先返回上一级目录，`cd ..` 后就是在 themes 这个目录下咯，再执行
```
git rm -r –cached /next
```
去掉已经托管的文件，然后提交即可。

此时再输入
```
git add .
```
就可以了。
之后再 commit，并成功同步到远程仓库。