---
title: 克隆 WordPress 网站
tags:
  - WordPress
date: 2018-06-11 18:46:29
---

我现在的网站是放在美国的一个 vps 里的，之前一直想要怎么备份，万一这台服务器被墙了（毕竟真的发生过），或者将来换服务器了，那我怎么转移。当时找了好多方法。

<!--more-->

### 一 自带的导出导入

这是最简单的了，WordPress 本身就有这功能。登录后台，工具，就有导入和导出。把旧的导出，然后在一台新的服务器上导入，这样所有的文章就都过去了。确实方便，然而，只能导出文章，主题、插件是没法的。

### 二 All-in-One WP Migration

这是一个插件，在添加插件里搜索就能找到。安装后会出现在后台面板的左侧。点导出，会生成一个文件，可以下载。然后在一台新的服务器也安装这个插件，就能导入刚才下载的这个文件，这样就能把整个网站完整的克隆。这样也可以当做备份，不过免费版最多只能备份 500M 的网站，而且只能备份到本地。

### 三 UpdraftPlus

在添加插件里搜索 back 排第一的就是它。支持定时备份，既可以备份在本地，也可以备份在网盘、邮箱、FTP 这些，而且还是免费的。果然厉害，于是我设置它每天备份到 Dropbox ，只保留两份备份，这样就不会一下子就把网盘给塞满了。

**缺点：**不能像上面那个插件那样，克隆网站，它只是支持数据丢失后的恢复。如果要实现网站克隆，需要花钱购买它的专业版。

### 四 免费让 UpdraftPlus 支持网站克隆

这是我无意发现的。那天是在查让 WordPress 绑定多个域名。

在 WordPress 程序根目录 wp-config.php 文件中加上下面代码

```
define('WP_SITEURL', 'http://' . $_SERVER['HTTP_HOST']);
define('WP_HOME', 'http://' . $_SERVER['HTTP_HOST']);
```

这样只要是解析进来的域名都可以打开且不会看到串联到其他域名

这样修改后再就可以用 UpdraftPlus 来克隆网站了



我只是想多备份而已，不然这么久的努力忽然消失了，岂不是很心疼。